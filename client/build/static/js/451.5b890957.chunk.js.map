{"version":3,"file":"static/js/451.5b890957.chunk.js","mappings":"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","sources":["Routes/Mychat.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport './Mychat.css';\r\nimport Moment from 'react-moment'\r\nimport { toast, ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n\r\n\r\nfunction Mychat() {\r\n    let [input, setInput] = useState(null)\r\n    let [chats, setChats] = useState([])\r\n    let [id, setId] = useState('')\r\n    let [loading, setLoading] = useState(false);\r\n\r\n    let submitHandler = (e) => {\r\n        e.preventDefault()\r\n        axios.post('http://localhost:5600/sendchat', { \"message\": input },\r\n            {\r\n                headers: {\r\n                    'Authorization': localStorage.getItem('jwt')\r\n                }\r\n            }\r\n        )\r\n            .then((res) => {\r\n                console.log('posted message!!!')\r\n                console.log(res.data)\r\n                setChats(res.data)\r\n                setInput('')\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n            })\r\n    }\r\n    let getMessage = () => {\r\n        setLoading(true)\r\n        axios.get('http://localhost:5600/getchat', {\r\n            headers: {\r\n                'Authorization': localStorage.getItem('jwt')\r\n            }\r\n        })\r\n\r\n            .then((res) => {\r\n                setChats(res.data)\r\n                setLoading(false)\r\n                console.log(res, 'messages getted')\r\n            }).catch((error) => {\r\n                setLoading(false)\r\n                console.log(error, \"axiosss errorr\")\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        getMessage();\r\n    }, [])\r\n\r\n    let deleteHandler = (id) => {\r\n        axios.delete(`http://localhost:5600/delete/${id}`, {\r\n            headers: {\r\n                'Authorization': localStorage.getItem('jwt')\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log('deleted ddaaaaaaa')\r\n                console.log(res.data)\r\n                setChats(res.data)\r\n                toast.success('deleted successfully')\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    return (\r\n        <>\r\n            {/* Modal */}\r\n            <div\r\n                className=\"modal fade\"\r\n                id=\"exampleModal\"\r\n                tabIndex={-1}\r\n                aria-labelledby=\"exampleModalLabel\"\r\n                aria-hidden=\"true\"\r\n            >\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\" style={{ fontFamily: 'monospace' }}>\r\n                                Delete\r\n                            </h5>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn-close\"\r\n                                data-bs-dismiss=\"modal\"\r\n                                aria-label=\"Close\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"modal-body\" style={{ color: 'red' }}> Are you sure want to delete this message !</div>\r\n                        <div className=\"modal-footer\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-secondary\"\r\n                                data-bs-dismiss=\"modal\"\r\n                            >\r\n                                Close\r\n                            </button>\r\n                            <button type=\"button\" className=\"btn btn-primary\" data-bs-dismiss=\"modal\" onClick={() => deleteHandler(id)}>\r\n                                Delete\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className='main-chat-section'>\r\n                <div className=\"card\" style={{ width: \"100%\", margin: '20px 10px', position: 'sticky', top: '0px', zIndex: '10' ,}}>\r\n                    <h5 className=\"card-header\" style={{ fontFamily: 'monospace' }}>Public</h5>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">Chat Room 1</h5>\r\n                        <div className='icon-section mb-2' style={{ textAlign: 'left', color: 'green', }}>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"30\" fill=\"currentColor\" className=\"bi bi-people\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4\" />\r\n                            </svg>\r\n                        </div>\r\n                        <span>created on </span>\r\n                        <i> <i className='text-muted' style={{ marginLeft: '4px' }}>28 December 2023</i></i>\r\n                    </div>\r\n                </div>\r\n                <div className='chat-section' style={{ margin: '0px' }}>\r\n                    <div className='message-section' style={{ margin: '0px' }}>\r\n                        {\r\n                            loading && (\r\n                                <center style={{display : 'flex' , margin : '20px auto' , 'justifyContent' : 'space-around'}} >\r\n                                <div className=\"spinner-border text-primary m-2\" role=\"status\">\r\n                                    <span className=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                                <div className=\"spinner-border text-success m-2\" role=\"status\">\r\n                                    <span className=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                                <div className=\"spinner-border text-warning m-2\" role=\"status\">\r\n                                    <span className=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                            </center>\r\n                            )\r\n                        }\r\n                        { \r\n                           !loading && chats && chats.map((eachMessage) => {\r\n                                let { message, time, username, _id, avatar } = eachMessage;\r\n                                let currentUser = localStorage.getItem('payload');\r\n                                let isCurrentUser = currentUser === username;\r\n                                return (\r\n                                    <div className=\"card current-user\" style={{ width: \"50%\", margin: '10px', boxShadow: '4px 4px 5px black', cursor: 'pointer' }} key={_id}>\r\n                                        <div className='card text-center'>\r\n                                            <h6 className=\"card-subtitle mb-2 pt-2\" style={{ fontFamily: 'monoscope', marginLeft: '3px' }}> <Moment format='DD MMMM YYYY'>{time}</Moment> </h6>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className='user-avatar-section mt-0'>\r\n                                                <img src={avatar} alt=\"avatar\" />\r\n                                            </div>\r\n                                            <h5 className=\"card-title\" style={{ display: 'inline-block', marginTop: '15px', fontFamily: 'monospace', fontSize: '18px', marginLeft: '11px' }}>{username}</h5>\r\n                                            <p className=\"card mt-3\" style={{ fontSize: '16px', fontWeight: '500', fontFamily: 'Dosis', textAlign: 'justify', padding: '10px' }}>{message}</p>\r\n                                            <p style={{ margin: '0px 3px', textAlign: 'right' }}><Moment format='hh:mm a'>{time}</Moment></p>\r\n                                            {isCurrentUser && (\r\n                                                <button onClick={() => setId(_id)} style={{ border: 'none', color: 'red', position: 'absolute', right: '5px', borderRadius: '14px' }} data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"15\" fill=\"currentColor\"\r\n                                                        className=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                                                        <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0\" />\r\n                                                    </svg>\r\n                                                </button>\r\n                                            )\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                            )\r\n                        }\r\n                        <div className='post-message-section' style={{ width: '60%', margin: '40px auto' }}>\r\n                            <form onSubmit={submitHandler}>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <textarea className=\"form-control\" placeholder=\"Write message here....\" aria-label=\"Example text with button addon\" style={{ borderRadius: '10px', cols: '10', rows: '20', fontFamily: 'monospace', fontSize: '18px', padding: '9px' }} aria-describedby=\"button-addon1\" value={input} onChange={(e) => {\r\n                                        setInput(e.target.value)\r\n                                    }} />\r\n                                    <input className=\"btn btn-outline-success ml-2 send-btn\" type=\"submit\" id=\"button-addon1\" value=\"Send\" style={{ marginLeft: '10px', borderRadius: '12px', border: 'none', width: '20%' }}\r\n                                    />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <ToastContainer />\r\n            </div >\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Mychat "],"names":["input","setInput","useState","chats","setChats","id","setId","loading","setLoading","useEffect","axios","get","headers","localStorage","getItem","then","res","data","console","log","catch","error","_jsxs","_Fragment","children","_jsx","className","tabIndex","style","fontFamily","type","color","onClick","delete","concat","toast","success","err","deleteHandler","width","margin","position","top","zIndex","textAlign","xmlns","height","fill","viewBox","d","marginLeft","display","role","map","eachMessage","message","time","username","_id","avatar","isCurrentUser","boxShadow","cursor","Moment","format","src","alt","marginTop","fontSize","fontWeight","padding","border","right","borderRadius","onSubmit","e","preventDefault","post","placeholder","cols","rows","value","onChange","target","ToastContainer"],"sourceRoot":""}