"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[451],{528:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var t=s(791),l=s(294),i=s(431),n=s.n(i),d=s(85),o=(s(462),s(184));const c=function(){let[e,a]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[c,r]=(0,t.useState)(""),[m,h]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{h(!0),l.Z.get("http://localhost:5600/getchat",{headers:{Authorization:localStorage.getItem("jwt")}}).then((e=>{i(e.data),h(!1),console.log(e,"messages getted")})).catch((e=>{h(!1),console.log(e,"axiosss errorr")}))}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",style:{fontFamily:"monospace"},children:"Delete"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,o.jsx)("div",{className:"modal-body",style:{color:"red"},children:" Are you sure want to delete this message !"}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>(e=>{l.Z.delete("http://localhost:5600/delete/".concat(e),{headers:{Authorization:localStorage.getItem("jwt")}}).then((e=>{console.log("deleted ddaaaaaaa"),console.log(e.data),i(e.data),d.Am.success("deleted successfully")})).catch((e=>{console.log(e)}))})(c),children:"Delete"})]})]})})}),(0,o.jsxs)("div",{className:"main-chat-section",children:[(0,o.jsxs)("div",{className:"card",style:{width:"100%",margin:"20px 10px",position:"sticky",top:"0px",zIndex:"10"},children:[(0,o.jsx)("h5",{className:"card-header",style:{fontFamily:"monospace"},children:"Public"}),(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h5",{className:"card-title",children:"Chat Room 1"}),(0,o.jsx)("div",{className:"icon-section mb-2",style:{textAlign:"left",color:"green"},children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"30",fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"})})}),(0,o.jsx)("span",{children:"created on "}),(0,o.jsxs)("i",{children:[" ",(0,o.jsx)("i",{className:"text-muted",style:{marginLeft:"4px"},children:"28 December 2023"})]})]})]}),(0,o.jsx)("div",{className:"chat-section",style:{margin:"0px"},children:(0,o.jsxs)("div",{className:"message-section",style:{margin:"0px"},children:[m&&(0,o.jsxs)("center",{style:{display:"flex",margin:"20px auto",justifyContent:"space-around"},children:[(0,o.jsx)("div",{className:"spinner-border text-primary m-2",role:"status",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,o.jsx)("div",{className:"spinner-border text-success m-2",role:"status",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,o.jsx)("div",{className:"spinner-border text-warning m-2",role:"status",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}),!m&&s&&s.map((e=>{let{message:a,time:s,username:t,_id:l,avatar:i}=e,d=localStorage.getItem("payload")===t;return(0,o.jsxs)("div",{className:"card current-user",style:{width:"50%",margin:"10px",boxShadow:"4px 4px 5px black",cursor:"pointer"},children:[(0,o.jsx)("div",{className:"card text-center",children:(0,o.jsxs)("h6",{className:"card-subtitle mb-2 pt-2",style:{fontFamily:"monoscope",marginLeft:"3px"},children:[" ",(0,o.jsx)(n(),{format:"DD MMMM YYYY",children:s})," "]})}),(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("div",{className:"user-avatar-section mt-0",children:(0,o.jsx)("img",{src:i,alt:"avatar"})}),(0,o.jsx)("h5",{className:"card-title",style:{display:"inline-block",marginTop:"15px",fontFamily:"monospace",fontSize:"18px",marginLeft:"11px"},children:t}),(0,o.jsx)("p",{className:"card mt-3",style:{fontSize:"16px",fontWeight:"500",fontFamily:"Dosis",textAlign:"justify",padding:"10px"},children:a}),(0,o.jsx)("p",{style:{margin:"0px 3px",textAlign:"right"},children:(0,o.jsx)(n(),{format:"hh:mm a",children:s})}),d&&(0,o.jsx)("button",{onClick:()=>r(l),style:{border:"none",color:"red",position:"absolute",right:"5px",borderRadius:"14px"},"data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"})})})]})]},l)})),(0,o.jsx)("div",{className:"post-message-section",style:{width:"60%",margin:"40px auto"},children:(0,o.jsx)("form",{onSubmit:s=>{s.preventDefault(),l.Z.post("http://localhost:5600/sendchat",{message:e},{headers:{Authorization:localStorage.getItem("jwt")}}).then((e=>{console.log("posted message!!!"),console.log(e.data),i(e.data),a("")})).catch((e=>{console.log(e)}))},children:(0,o.jsxs)("div",{className:"input-group mb-3",children:[(0,o.jsx)("textarea",{className:"form-control",placeholder:"Write message here....","aria-label":"Example text with button addon",style:{borderRadius:"10px",cols:"10",rows:"20",fontFamily:"monospace",fontSize:"18px",padding:"9px"},"aria-describedby":"button-addon1",value:e,onChange:e=>{a(e.target.value)}}),(0,o.jsx)("input",{className:"btn btn-outline-success ml-2 send-btn",type:"submit",id:"button-addon1",value:"Send",style:{marginLeft:"10px",borderRadius:"12px",border:"none",width:"20%"}})]})})})]})}),(0,o.jsx)(d.Ix,{})]})]})}}}]);
//# sourceMappingURL=451.5b890957.chunk.js.map