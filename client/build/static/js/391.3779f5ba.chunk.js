"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[391],{690:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(791),l=t(689),r=t(294),n=t(85),o=(t(462),t(184));const i=function(e){let{setLogin:s}=e,t=(0,l.s0)(),[i,c]=(0,a.useState)({username:"",password:""}),d=e=>{c({...i,[e.target.name]:e.target.value})};return(0,o.jsxs)("center",{className:"register-section",style:{margin:"5px auto",boxShadow:"4px 3px 5px black",padding:"20px",width:"50%"},children:[(0,o.jsx)("div",{className:"icon-section-user",style:{textAlign:"center",color:"tomato"},children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"76",height:"79",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z"})})}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r.Z.post("http://localhost:5600/login",i).then((e=>{e.data&&(console.log(e.data,"logged in after"),localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("payload",e.data.username),n.Am.success(e.data.success)),s(!0),setTimeout((()=>{t("/mychat")}),1e3)})).catch((e=>{if(console.log(e),e.response.data.exists&&n.Am.error(e.response.data.exists),e.response.data.password)return n.Am.error(e.response.data.password)}))},children:[(0,o.jsxs)("div",{className:"form-floating m-3",style:{width:"80%"},children:[(0,o.jsx)("input",{type:"text",className:"form-control",id:"floatingInput",placeholder:"name@example.com",name:"username",onChange:d}),(0,o.jsxs)("label",{htmlFor:"floatingInput",children:["User name ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})]}),(0,o.jsxs)("div",{className:"form-floating m-3",style:{width:"80%"},children:[(0,o.jsx)("input",{type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password",name:"password",onChange:d}),(0,o.jsxs)("label",{htmlFor:"floatingPassword",children:["Password ",(0,o.jsx)("span",{style:{color:"red"},children:"*"})]})]}),(0,o.jsxs)("div",{className:"col-auto register-btn",children:[(0,o.jsx)("button",{type:"submit",className:"btn btn-primary m-3",children:"Login"}),"\\",(0,o.jsxs)("center",{className:"mt-1",children:[(0,o.jsx)("p",{style:{color:"#fff",display:"inline-block"},children:"New user go for Register"}),(0,o.jsx)("button",{type:"button",class:"btn btn-outline-primary",style:{display:"inline-block",marginLeft:"10px"},onClick:()=>{t("/register")},children:"Register"})]})]})]}),(0,o.jsx)(n.Ix,{})]})}}}]);
//# sourceMappingURL=391.3779f5ba.chunk.js.map